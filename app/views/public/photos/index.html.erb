<% content_for(:title, '一覧ページ') %>

<div class="container">
  <div class="row">
     <div class="col-10">
      <%= render 'search_photo', q: @q, url: photos_path %>
      
      <% @tag_list.each do |list| %>
        <i class="fa-sharp fa-solid fa-tag">
          <%= link_to list.tag_name, search_path(tag_id: list.id) %>
          <%= "(#{list.photos.count})" %>
        </i>
      <% end %>
  </div>
 </div>
    
         <div class="card-list-container py-5">
           <% @photos.each do |photo| %>
             <div class="card w-50 mx-auto mt-4 bg-dark text-white">
               <%= link_to photo_path(photo.id) do %>
                 <%= image_tag photo.get_image, class: "card-img-top"; %>
               <% end %>
                 <div class="card-body">
                   <div class="row">
                     <div class="col-2">
                      <%= image_tag photo.user.get_profile_image(100,100), class: "mt-3 rounded-circle"; %>
                     </div>
                     <div class="col-10">
                       <p class="card-title">
                        <%= link_to(photo_path(photo.id), class: "text-white") do %>
                          <strong><i class="fa-solid fa-paw-simple"></i><span><%= photo.title %></span></strong>
                        <% end %>
                       </p>
                       <p class="card-text">一言：<%= photo.body %></p>
                        <span><i class="fas fa-user"></i> by <%= photo.user.name %> ｜ </span>
                        <span><%= link_to "#{photo.photo_comments.count} コメント", photo_path(photo.id), class: "text-white" %> | </span>
                      </div>
                   </div>
                 </div>
             </div>
         
       
               <% end %>
               <%= paginate @photos %>
</div>